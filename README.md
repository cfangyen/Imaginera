Basic Requirements:
Memory of RAM: 16 GB(minimum) or 64 GB(recommended)
Software: MATLAB (MATHWORKS Inc. 2021 or above), ImageJ Fiji
Video type: All types that MATLAB can read (e.g. avi)
Video content requirement: To run HJ_FreqAnalysis_Imaginera.m, HJ_FreqAnalysis_VidCovariance.m, HJ_FreqAnalysis_WormSegmentation.m, each video should contain only one moving worm. To run HJ_FreqAnalysis_Imaginera_MultiWell.m, each video should be multiple worms arrayed in wells of a multi-well plate (e.g. 96-well plate)

Overview of the scripts and files:
A. The .m files in the main directory are MATLAB scripts (recommend: MATLAB 2021 and above) for the following purposes:
1. HJ_FreqAnalysis_Imaginera.m: Main script that runs Imaginera software for measuring moving frequency from video data. The output file will be generated containing a list of predicted frequency values and the corresponding lower/upper bounds that are associated with individual video names. If the path to ground-truth dataset is indicated, the script will also generate a plot of predicted frequencies vs ground-truth frequencies with the RMSE and R-squared indicated in the figure.

2. HJ_FreqAnalysis_Imaginera_MultiWell.m: Main script that runs Imaginera software for measuring frequency from video data of multiple worms arrayed in a multi-well plate. Note: this analysis does not require background subtraction for the video data beforehand; the package itself contains a function that performs background subtraction during the analysis. The output file will be generated containing a list of predicted frequency values and the corresponding lower/upper bounds that are associated with individual wells in the multi-well plate of individual videos. If the path to ground-truth dataset is indicated, the script will also generate a plot of predicted frequencies vs ground-truth frequencies with the RMSE and R-squared indicated in the figure.

3. HJ_FreqAnalysis_WormSegmentation.m: Main script that runs the Segmentation-based software for measuring frequency from video data. The output file will be generated containing a list of predicted frequency values and the corresponding lower/upper bounds that are associated with individual video names. If the path to ground-truth dataset is indicated, the script will also generate a plot of predicted frequencies vs ground-truth frequencies with the RMSE and R-squared indicated in the figure.

4. HJ_FreqAnalysis_VidCovariance.m: Main script that runs the video-covariance-based software for measuring frequency from video data. The output file will be generated containing a list of predicted frequency values and the corresponding lower/upper bounds that are associated with individual video names. If the path to ground-truth dataset is indicated, the script will also generate a plot of predicted frequencies vs ground-truth frequencies with the RMSE and R-squared indicated in the figure.

5. HJ_BkgSubtraction_PCA.m: Main script for background subtraction for the video data. The background of each video is calculated as the first principle component of the images contained in the video. The output data will be a list of videos with their backgrounds subtracted.

B. The ZIP file contains a total of 142 videos (AVI) of moving worms as well as ground-truth dataset (MAT) used to compare with predicted values generated by the computer-vision methods. To open the videos, ImageJ is recommended.

C. The folder named "Software_Packages" contains all the packages for analysis/processing/computation functions that are called by the corresponding main scripts:
1. Package_Imaginera: Called by HJ_FreqAnalysis_Imaginera.m, and contains the following functions (in the order of being called):
1a. Hu_calculation.m: calculate the 8 Hu's invariants from video frames.
1b. Hu_feature_extraction.m: smooth and consolidate the 8 Hu's invariants into a single matrix.
1c. MSER_calculation.m: detect and generate the list of MSER regions for video frames.
1d. MSER_feature_extraction.m: calculate the corresponding MSER features (orientation angles and eccentricity values) based on the list of MSER regions.
1e. Frequency_analysis.m: call and consolidate all the variables returned from functions 1a,b,c,d, and then generate the autocorrelation of the invariants matrix.
1f. Frequency_extraction1.m: conduct the peak-finding algorithm on the autocorrelation variable to infer the frequency value for the video frames.

2. Package_Imaginera_MultiWell: Called by HJ_FreqAnalysis_Imaginera_MultiWell.m. It contains all the functions that are similar to 1a-f with minor modifications for adapting to multi-well analysis.

3. Package_WormSegmentation: Called by HJ_FreqAnalysis_WormSegmentation.m, and contains the following functions (in the order of being called):
3a. WORMSHAPE_MAINCALCULATION.m: performance segmentation-based algorithm to detect and analyze worm-shaped object from which it calculates curvature of the worm's body centerline. The output curvature variable is a matrix with curvature values as a function of space and time.
3b. Frequency_extraction_curv.m: read the curvature variable and compute its autocorrelation from which to infer frequency value via the peak-finding algorithm.
3c. Str2Mat.m: a miscellaneous script that converts string variables into matrices.

4. Package_VidCovariance: Called by HJ_FreqAnalysis_WormSegmentation.m, and contains the following functions (in the order of being called):
4a. cov_videoimages.m: read video frames and compute its covariance.
4b. VidCov_feature_extraction.m: read the video covariance and compute its autocorrelation from which to infer frequency value via the peak-finding algorithm.

5. Package_BkgSubtraction: Called by HJ_BkgSubtraction_PCA.m and conduct background subtraction on a video to reduce its background via principle component analysis method.

6. Package_AddGaussianNoise: contain scripts for generating noisy videos and measuring their signal-to-noise ratios (SNR).

7. Package_PerformanceVisual: contain scripts for generating plots showing the performance of all three computer-vision methods in analyzing video datasets with varying spatial resolutions, temporal resolutions, or background noises. Files "Robustness to noisy videos.xlsx" and "Robustness_test2.mat" are source dataset called by the corresponding .m files for generating the plots.
